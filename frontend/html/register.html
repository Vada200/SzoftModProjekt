<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
      integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.3.1.js"
      integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    />
    <link
      href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
      rel="stylesheet"
      id="bootstrap-css"
    />
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <link rel="icon" type="image/x-icon" href="favicon"/>
    <link rel="stylesheet" href="/styles"/>
    <link rel="stylesheet" href="/registerstyle"/>
    <title>Register</title>
  </head>
  <body onload="document.form1.first_name.focus()">
    <div class="topnav">
      <a class="active" href="/">Home</a>
      <a href="/keys">Keys</a>
      <a style="background-color: #225a8b; color: white;" href="/register">Register</a>
      <a href="/login">Login</a>
    </div>

    <div id="logo-box">
      <h1 class="logo">Registration</h1>
    </div>

    <div id="registerpage">
      <form id="registerForm" name="form1" action="/register" method="POST">
        <div class="input-box">
          <span class="details"><b>First Name: </b></span>
          <input type="text" name="first_name" placeholder="Enter your first name" required/>
        </div>
        <div class="input-box">
          <span class="details"><b>Last Name: </b></span>
          <input type="text" name="last_name" placeholder="Enter your last name" required/>
        </div>
        <div class="input-box">
          <span class="details"><b>E-mail: </b></span>
          <input id="email" type="text" name="email" placeholder="Enter your e-mail address" required/>
          <p id="result"></p>
        </div>
        <div class="input-box">
          <span class="details"><b>Password: </b></span>
          <input type="password" name="password" placeholder="Enter your password" required/>
        </div>
        <div>
          <input id="submit" name="submit" class="button" type="submit" value="Submit"/>
        </div>
        <div>
          <a href="/login">Already have an account? Login here.</a>
        </div>
      </form>
    </div>

    <div class="footer">
      Source: <a href="https://github.com/Vada200/SzoftModProjekt">Github</a>
      <p>&copy; Copyright 2022 - Csizmadia Csaba, Ladányi Balázs, Varga Dávid</p>
    </div>
  </body>
  <script>
    function ValidateEmail(inputText) {
      const mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
      if (inputText.value.match(mailformat)) {
        $("#result").html("");
        document.form1.email.focus();
        return true;
      }
      else {
        $("#result").html("You have entered an invalid e-mail address!");
        document.form1.email.focus();
        return false;
      }
    }

    document.form1.email.addEventListener("keyup", () => {
      ValidateEmail(document.form1.email) === false ? document.form1.submit.disabled = true : document.form1.submit.disabled = false;
    });
  </script>
</html>
